'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.getForeignWeb3 = exports.getHomeWeb3 = undefined;

var _web = require('web3');

var _web2 = _interopRequireDefault(_web);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var homeWeb3 = void 0;
var foreignWeb3 = void 0;

var getHomeWeb3 = exports.getHomeWeb3 = function getHomeWeb3(config) {
    if (homeWeb3) return homeWeb3;

    homeWeb3 = new _web2.default(config.homeNodeUrl);
    homeWeb3.eth.defaultBlock = 'pending';
    var account = homeWeb3.eth.accounts.privateKeyToAccount(config.pk);
    homeWeb3.eth.accounts.wallet.add(account);

    return homeWeb3;
};

var getForeignWeb3 = exports.getForeignWeb3 = function getForeignWeb3(config) {
    if (foreignWeb3) return foreignWeb3;

    foreignWeb3 = new _web2.default(config.foreignNodeUrl);
    foreignWeb3.eth.defaultBlock = 'pending';
    var account = foreignWeb3.eth.accounts.privateKeyToAccount(config.pk);
    foreignWeb3.eth.accounts.wallet.add(account);

    return foreignWeb3;
};